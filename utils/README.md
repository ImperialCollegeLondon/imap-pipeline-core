# IMAP MAG Pipeline Utilities

## HK from TLM Database

To generate XML file with XTCE tool (from [`imap_processing`](https://github.com/IMAP-Science-Operations-Center/imap_processing)):

``` shell
imap_xtce ../IM-MAG-SW/acceptance-tests/gseos/IMAP.8.7.044/Instruments/MAG_Common/TLM_MAG.xls --output ../imap-pipeline-core/src/imap_mag/packet_def/mag_17.9.xml
```

> [!TIP]
> For generating S/C HK XTCE files, use the `../IM-MAG-SW/acceptance-tests/gseos/IMAP.8.7.044/MOC/TLM_SC.xls`, after removing any page that is not needed.
> Also make sure to remove any field including the type `STRING`, which is not supported by `imap_xtce`.

## L2 Offset Skeleton

An L2 Offset Skeleton CDF can be generated by running the `l2-offset-skeleton-generator.py` script.

```bash
python l2-offset-skeleton-generator.py
```
